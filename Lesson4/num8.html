<!DOCTYPE html> <!--html 형식임을 선언함-->
<html lang="en">    <!--HTML의 시작-->
<head>	<!--머리말 시작-->
        <meta charset="UTF-8">  <!--한글 인코딩-->
        <meta http-equiv="X-UA-Compatible" content="IE=edge">   <!--문자셋 메타 정보-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">  <!--뷰포트 메타 정보-->
	<title>이벤트 흐름</title>	<!--제목-->    
</head>	<!--머리말 끝-->
<body>	<!--본문-->
    <p style="color:blue">이것은<span style="color:red"id="span"> 문장입니다.</span></p>
    <form>  <!--정보를 보내는 태그-->
        <input type="text" name="s">    <!--텍스트 박스 생성-->
        <input type="button" value="테스트" id="button">    <!--버튼 생성-->
        <hr>    <!--구분선-->
    </form> 
    <div id = "div" style="color:green"></div>  <!--이벤트 내용 출력 공간-->
    <script>
        var div = document.getElementById("div");   // document id가 div인 태그의 정보 저장
        var button = document.getElementById("button"); // document id가 button인 태그의 정보 저장

        document.body.addEventListener("click",capture,true);   // 클릭 이벤트가 발생 시(아무곳이나 상관없음)
        function capture(e){
            var obj=e.currentTarget;    // 이벤트 핸들러와 연결된 위치 저장
            var tagName = obj.tagName;  // 태그이름
            div.innerHTML += "<br>capture 단계:" + tagName+"태그" + e.type + "이벤트";  // div형식으로 이벤트가 일어난 태그 및 이벤트 내용 추가
        }

        button.addEventListener("click",bubble,false);  // 버튼 클릭시 이벤트
        document.body.addEventListener("click",bubble,false);   // 클릭 이벤트가 발생 시(아무곳이나 상관없음)
        function bubble(e){
            var obj=e.currentTarget;    // 이벤트 핸들러와 연결된 위치 저장
            var tagName = obj.tagName;  // 태그이름
            div.innerHTML += "<br>bubble 단계:" + tagName+"태그" + e.type + "이벤트";  // div형식으로 이벤트가 일어난 태그 및 이벤트 내용 추가        
        }
    </script>
</body>	<!--본문 끝-->
</html>	<!--HTML의 끝-->